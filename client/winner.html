<!DOCTYPE html>
<html lang="en">
<head><title>You Win!</title></head>
<body style="text-align: center; font-family: sans-serif;">
    <h1 style="color: green;">ðŸŽ‰ Congratulations!</h1>
    <h2>You won the game!</h2>
    <button onclick="resetGame()">Back to Main Menu</button>

    <script>
        function resetGame() {
            fetch('/resetGame', {
                method: 'POST',
                headers: { "Content-Type": "application/json" }
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                if (data.message.includes("waiting")) {
                    alert("âœ… You left the game.\nâ³ Waiting for the other player to leave before the game is fully deleted.");
                    window.location.href = "/lobby.html"; // stay logged in
                } else {
                    alert("âœ… Game deleted. Returning to menu.");
                    window.location.href = "/lobby.html";
                }
            })
            .catch(error => {
                console.error("Failed to reset game:", error);
                window.location.href = "/lobby.html";
            });
        }
        </script>
        

</body>
</html>
